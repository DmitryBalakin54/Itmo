## Titanic

`pandas`

### Условие
Все функции принимают на вход датафрейм titanic и возможно некоторые параметры, специфичные для данной задачи.

Обратите внимание, что несколько вызовов методов над датафреймами можно объединить в один pipeline. Другими словами, можно писать

```
df.func1().func2().funс3()
```

По возможности реализуйте требуемые функции с помощью пайплайнов (одного, если возможно). Делайте переносы для лучшей читаемости кода.

### Задачи
Реализуйте следующие функции:
1. Функция, считающая средний возраст (Age) выживших (Survived=1) мужчин (Sex=male), зашедших на борт в Southampton (Embarked=S) и купивших билет больше, чем за 30 фунтов (Fare>30). Посчитайте значение по тем пассажирам, возраст которых известен.
2. Функция, которая возвращает все колонки, для которых в данных имеются пропуски (nan).
3. Функция, подсчитывающая долю пассажиров каждого класса (Pclass). Верните Series, отсортированный по возрастанию класса. Номера классов в индексе, доля пассажиров - в значении. 
4. Функция, подсчитывающая кол-во семей, в которых более, чем k человек. Семьей назовем группу однофамильцев. Фамилия определяется как слова в поле Name до первой запятой.
5. Функция принимает на вход список номеров билетов (Ticket) и возвращающая среднюю цену (Fare) для билетов из указанного списка.
6. Функция принимает список из n колонок, и возвращает список из n значений в этих колонках. Нужно возвратить самую популярную комбинацию признаков по заданным колонкам. Например, для колонок (Survived, Sex) наиболее популярной комбинацией в датасете будут значения (0, male) - 86 пассажиров. Другими словами, не выживших мужчин в датасете больше, чем вышивших мужчин (1, male) (14 пассажиров), невыживших женщин (0, female) (16 пассажиров) и выживших женщин (1, female) (40 пассажиров).
7. Функция, которая выделяет пассажиров с счастливым билетом и считающую среди них долю утонувших. Счастливым назовем билет, удовлетворяющий требованиям:
    - является натуральным числом (без букв и других символов);
    - состоит из четного числа цифр;
    - сумма цифр первой половины номера равна сумме цифр второй половины.
Реализуйте вспомогательную функцию ```is_lucky```, которая по номеру билета определяет счастливый он или нет и примените к датафрейму метод ```apply```, вызывающих эту функцию.

